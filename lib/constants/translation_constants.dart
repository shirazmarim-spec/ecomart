import 'package:flutter/material.dart';
import 'package:provider/provider.dart';
import '../providers/locale_provider.dart';

class TranslationConstants {
  static Map<String, Map<String, String>> translations = {
    'en': {
      'login': 'Login',
      'signup': 'Sign Up',
      'name': 'Name',
      'email': 'Email',
      'password': 'Password',
      'confirmPassword': 'Confirm Password',
      'rememberMe': 'Remember me',
      'errorEmailPassword': 'Please enter email and password',
      'passwordMismatch': 'Passwords do not match',
      'loginFailed': 'Login failed',
      'newUserSignUp': "NEW USER? SIGN UP",
      'alreadyHaveAccount': 'Already have an account? Log in',
      'products': 'Products',
      'noProducts': 'No products found',
      'error': 'Error',
      'addToCart': 'Added to cart',
      'search': 'Search products...',
      'sendNotification': 'Send Notification',
      'openTelegramBot': 'Open Telegram Bot',
      'messageSent': 'Message sent to Telegram!',
      'failedToSend': 'Failed to send',
      'couldNotOpenBot': 'Could not open Telegram bot',
      'cart': 'Cart',
      'total': 'Total',
      'checkout': 'Checkout',
      'emptyCart': 'Your cart is empty',
      'continueShopping': 'Continue Shopping',
      'adminDashboard': 'Admin Dashboard',
      'adminWelcome': 'Welcome, Admin! Manage Products',
      'addProduct': 'Add Product',
      'viewProducts': 'View Products',
      'pickImage': 'Pick Image',
      'imageSelected': 'Image Selected',
      'description': 'Description',
      'price': 'Price',
      'stock': 'Stock',
      'category': 'Category',
      'pleaseSelectCategory': 'Please select category',
      'pleaseEnterName': 'Please enter name',
      'pleaseEnterPrice': 'Please enter price',
      'invalidPrice': 'Invalid price',
      'pleaseEnterStock': 'Please enter stock',
      'invalidStock': 'Invalid stock',
      'productAdded': 'Product added successfully!',
      'addProductFailed': 'Failed to add product',
      'profile': 'Profile',
      'editProfile': 'Edit Profile',
      'logout': 'Logout',
      'save': 'Save',
      'cancel': 'Cancel',
      'orders': 'Orders',
      'noOrders': 'No orders yet',
      'status': 'Status',
      'date': 'Date',
      'items': 'Items',
      'reOrder': 'Re-order',
      'priceEach': 'each',
      'quantity': 'Qty',
      'reOrderAdded': 'Re-order added to cart!',
      'order': 'Order',
      'pay': 'Pay Now',
      'paymentSuccess': 'Payment Successful!',
      'paymentFailed': 'Payment Failed',
      'orderId': 'Order ID',
    },
    'ar': {
      'login': 'تسجيل الدخول',
      'signup': 'إنشاء حساب',
      'name': 'الاسم',
      'email': 'البريد الإلكتروني',
      'password': 'كلمة المرور',
      'confirmPassword': 'تأكيد كلمة المرور',
      'rememberMe': 'تذكّرني',
      'errorEmailPassword': 'يرجى إدخال البريد الإلكتروني وكلمة المرور',
      'passwordMismatch': 'كلمات المرور غير متطابقة',
      'loginFailed': 'فشل تسجيل الدخول',
      'newUserSignUp': "مستخدم جديد؟ سجّل الدخول",
      'alreadyHaveAccount': 'لديك حساب بالفعل؟ تسجيل الدخول',
      'products': 'المنتجات',
      'noProducts': 'لا توجد منتجات',
      'error': 'خطأ',
      'addToCart': 'تم الإضافة للسلة',
      'search': 'البحث في المنتجات...',
      'sendNotification': 'إرسال إشعار',
      'openTelegramBot': 'فتح بوت تلغرام',
      'messageSent': 'تم إرسال الرسالة لتلغرام!',
      'failedToSend': 'فشل في الإرسال',
      'couldNotOpenBot': 'تعذر فتح بوت تلغرام',
      'cart': 'العربة',
      'total': 'المجموع',
      'checkout': 'الدفع',
      'emptyCart': 'عربة التسوق فارغة',
      'continueShopping': 'المتابعة في التسوق',
      'adminDashboard': 'لوحة الإدارة',
      'adminWelcome': 'مرحباً، الإداري! إدارة المنتجات',
      'addProduct': 'إضافة منتج',
      'viewProducts': 'عرض المنتجات',
      'pickImage': 'اختيار صورة',
      'imageSelected': 'تم اختيار الصورة',
      'description': 'الوصف',
      'price': 'السعر',
      'stock': 'المخزون',
      'category': 'الفئة',
      'pleaseSelectCategory': 'يرجى اختيار الفئة',
      'pleaseEnterName': 'يرجى إدخال الاسم',
      'pleaseEnterPrice': 'يرجى إدخال السعر',
      'invalidPrice': 'سعر غير صالح',
      'pleaseEnterStock': 'يرجى إدخال المخزون',
      'invalidStock': 'مخزون غير صالح',
      'productAdded': 'تم إضافة المنتج بنجاح!',
      'addProductFailed': 'فشل في إضافة المنتج',
      'profile': 'الملف الشخصي',
      'editProfile': 'تعديل الملف الشخصي',
      'logout': 'تسجيل الخروج',
      'save': 'حفظ',
      'cancel': 'إلغاء',
      'orders': 'الطلبات',
      'noOrders': 'لا توجد طلبات بعد',
      'status': 'الحالة',
      'date': 'التاريخ',
      'items': 'المنتجات',
      'reOrder': 'إعادة الطلب',
      'priceEach': 'للوحدة',
      'quantity': 'الكمية',
      'reOrderAdded': 'تم إضافة إعادة الطلب إلى السلة!',
      'order': 'الطلب',
      'pay': 'ادفع الآن',
      'paymentSuccess': 'تم الدفع بنجاح!',
      'paymentFailed': 'فشل الدفع',
      'orderId': 'رقم الطلب',
    },
  };

  static String getString(BuildContext context, String key) {
    final localeProvider = Provider.of<LocaleProvider>(context, listen: false);
    final isArabic = localeProvider.locale.languageCode == 'ar';
    return translations[isArabic ? 'ar' : 'en']?[key] ?? key;
  }

  static String getPriceStock(dynamic price, dynamic stock, bool isArabic) {
    final double parsedPrice = price is String
        ? double.tryParse(price) ?? 0.0
        : (price as double);
    final int parsedStock = stock is String
        ? int.tryParse(stock) ?? 0
        : (stock as int);
    final en = '\$$parsedPrice - Stock: $parsedStock';
    final ar = 'السعر: $parsedPrice\$ - المخزون: $parsedStock';
    return isArabic ? ar : en;
  }
}
